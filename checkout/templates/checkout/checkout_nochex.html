{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block extra_css %}
<!-- <script src="https://secure.nochex.com/exp/jquery.js" ></script>
   <script src="https://secure.nochex.com/exp/nochex_lib.js" ></script> -->
<link rel="stylesheet" href="{% static 'checkout/css/checkout.css' %}">
{% endblock %}
{% block content %}
<!-- Title -->
<h1 class="text-center title">Get Ready to Cop</h1>
<div class="container mt-5">
   <!-- Cart summary on right side -->
   <div class="row">
      <div class="col-md-4 order-md-2 mb-4">
         <div class="bg-black rounded p-3 px-3 mb-3 text-uppercase"><strong>Your cart</strong></div>
         {% for item in cart_items %}
         <ul class="list-group mb-3">
            <li class="list-group-item">
               <h6 class="">{{ item.comp.name }}</h6>
               <div class="row">
                  <div class="col text-left">
                     <p class="lh-condensed text-muted">Quantity: {{ item.quantity }}</p>
                  </div>
                  <div class="col text-right">
                     <p class=" lh-condensed text-muted">Ea. €{{ item.comp.price }}</p>
                  </div>
               </div>
            </li>
            {% endfor %}
            <li class="list-group-item d-flex justify-content-between">
               <span>Total</span>
               <strong class="total-colour">€ {{ total|floatformat:2 }}</strong>
            </li>
         </ul>
         <!-- Personal details form -->
      </div>
      <div class="col-md-8 order-md-1">
         <div class="bg-black rounded p-3 px-3 mb-3 text-uppercase"><strong>Billing Address</strong></div>
         <form method="post" action="./ncx_card.aspx" id="Form1" novalidate="">
            {% csrf_token %}
            <div id="div_id_full_name" class="form-group">
               <input type="text" name="full_name" maxlength="50" autofocus placeholder="Full Name" class="form-control" required id="ncxField-fullname">
            </div>
            <div id="div_id_email" class="form-group">
               <input type="email" name="email" value="test@test.com" maxlength="254" placeholder="Email Address" class=" form-control" required id="ncxField-email">
            </div>
            <div id="div_id_phone_number" class="form-group">
               <input type="text" name="phone_number" maxlength="20" placeholder="Phone Number" class="form-control" required id="ncxField-phone">
            </div>
            <div id="div_id_address" class="form-group">
               <input type="text" name="address" maxlength="80" placeholder="Address" class="form-control" required id="ncxField-address">
            </div>
            <div id="div_id_town_city" class="form-group">
               <input type="text" name="town_city" maxlength="40" placeholder="Town or City" class="form-control" required id="ncxField-city">
            </div>
            <div id="div_id_county" class="form-group">
               <input type="text" name="county" maxlength="80" placeholder="County" class="form-control" id="ncxField-optional_1">
            </div>
            <div id="div_id_postcode" class="form-group">
               <input type="text" name="postcode" maxlength="20" placeholder="Postal Code" class="form-control" id="ncxField-postcode">
            </div>
            <div id="div_id_country" class="form-group">
               <select  class="form-control" name="country" onchange="javascript:setTimeout(&#39;__doPostBack(\&#39;country\&#39;,\&#39;\&#39;)&#39;, 0)" id="ncxField-country" tabindex="10">
                  <option value="AF">AFGHANISTAN</option>
                  <option value="AX">ALAND ISLANDS</option>
                  <option value="AL">ALBANIA</option>
                  <option value="DZ">ALGERIA</option>
                  <option value="AS">AMERICAN SAMOA</option>
                  <option value="AD">ANDORRA</option>
                  <option value="AO">ANGOLA</option>
                  <option value="AI">ANGUILLA</option>
                  <option value="AQ">ANTARCTICA</option>
                  <option value="AG">ANTIGUA AND BARBUDA</option>
                  <option value="AR">ARGENTINA</option>
                  <option value="AM">ARMENIA</option>
                  <option value="AW">ARUBA</option>
                  <option value="AU">AUSTRALIA</option>
                  <option value="AT">AUSTRIA</option>
                  <option value="AZ">AZERBAIJAN</option>
                  <option value="BS">BAHAMAS</option>
                  <option value="BH">BAHRAIN</option>
                  <option value="BD">BANGLADESH</option>
                  <option value="BB">BARBADOS</option>
                  <option value="BY">BELARUS</option>
                  <option value="BE">BELGIUM</option>
                  <option value="BZ">BELIZE</option>
                  <option value="BJ">BENIN</option>
                  <option value="BM">BERMUDA</option>
                  <option value="BT">BHUTAN</option>
                  <option value="BO">BOLIVIA</option>
                  <option value="BA">BOSNIA AND HERZEGOVINA</option>
                  <option value="BW">BOTSWANA</option>
                  <option value="BV">BOUVET ISLAND</option>
                  <option value="BR">BRAZIL</option>
                  <option value="IO">BRITISH INDIAN OCEAN TERRITORY</option>
                  <option value="BN">BRUNEI DARUSSALAM</option>
                  <option value="BG">BULGARIA</option>
                  <option value="BF">BURKINA FASO</option>
                  <option value="BI">BURUNDI</option>
                  <option value="KH">CAMBODIA</option>
                  <option value="CM">CAMEROON</option>
                  <option value="CA">CANADA</option>
                  <option value="CV">CAPE VERDE</option>
                  <option value="KY">CAYMAN ISLANDS</option>
                  <option value="CF">CENTRAL AFRICAN REPUBLIC</option>
                  <option value="TD">CHAD</option>
                  <option value="CL">CHILE</option>
                  <option value="CN">CHINA</option>
                  <option value="CX">CHRISTMAS ISLAND</option>
                  <option value="CC">COCOS (KEELING) ISLANDS</option>
                  <option value="CO">COLOMBIA</option>
                  <option value="KM">COMOROS</option>
                  <option value="CG">CONGO</option>
                  <option value="CD">CONGO</option>
                  <option value="CK">COOK ISLANDS</option>
                  <option value="CR">COSTA RICA</option>
                  <option value="CI">COTE D&#39;IVOIRE</option>
                  <option value="HR">CROATIA</option>
                  <option value="CU">CUBA</option>
                  <option value="CY">CYPRUS</option>
                  <option value="CZ">CZECH REPUBLIC</option>
                  <option value="DK">DENMARK</option>
                  <option value="DJ">DJIBOUTI</option>
                  <option value="DM">DOMINICA</option>
                  <option value="DO">DOMINICAN REPUBLIC</option>
                  <option value="TP">EAST TIMOR</option>
                  <option value="EC">ECUADOR</option>
                  <option value="EG">EGYPT</option>
                  <option value="SV">EL SALVADOR</option>
                  <option value="GQ">EQUATORIAL GUINEA</option>
                  <option value="ER">ERITREA</option>
                  <option value="EE">ESTONIA</option>
                  <option value="ET">ETHIOPIA</option>
                  <option value="FK">FALKLAND ISLANDS (MALVINAS)</option>
                  <option value="FO">FAROE ISLANDS</option>
                  <option value="FJ">FIJI</option>
                  <option value="FI">FINLAND</option>
                  <option value="FR">FRANCE</option>
                  <option value="GF">FRENCH GUIANA</option>
                  <option value="PF">FRENCH POLYNESIA</option>
                  <option value="TF">FRENCH SOUTHERN TERRITORIES</option>
                  <option value="GA">GABON</option>
                  <option value="GM">GAMBIA</option>
                  <option value="GE">GEORGIA</option>
                  <option value="DE">GERMANY</option>
                  <option value="GH">GHANA</option>
                  <option value="GI">GIBRALTAR</option>
                  <option value="GR">GREECE</option>
                  <option value="GL">GREENLAND</option>
                  <option value="GD">GRENADA</option>
                  <option value="GP">GUADELOUPE</option>
                  <option value="GU">GUAM</option>
                  <option value="GT">GUATEMALA</option>
                  <option value="GG">GUERNSEY</option>
                  <option value="GN">GUINEA</option>
                  <option value="GW">GUINEA-BISSAU</option>
                  <option value="GY">GUYANA</option>
                  <option value="HT">HAITI</option>
                  <option value="HM">HEARD ISLAND AND MCDONALD ISLANDS</option>
                  <option value="VA">HOLY SEE (VATICAN CITY STATE)</option>
                  <option value="HN">HONDURAS</option>
                  <option value="HK">HONG KONG</option>
                  <option value="HU">HUNGARY</option>
                  <option value="IS">ICELAND</option>
                  <option value="IN">INDIA</option>
                  <option value="ID">INDONESIA</option>
                  <option value="IR">IRAN</option>
                  <option value="IQ">IRAQ</option>
                  <option value="IE">IRELAND</option>
                  <option value="IM">ISLE OF MAN</option>
                  <option value="IL">ISRAEL</option>
                  <option value="IT">ITALY</option>
                  <option value="JM">JAMAICA</option>
                  <option value="JP">JAPAN</option>
                  <option value="JE">JERSEY</option>
                  <option value="JO">JORDAN</option>
                  <option value="KZ">KAZAKSTAN</option>
                  <option value="KE">KENYA</option>
                  <option value="KI">KIRIBATI</option>
                  <option value="KR">KOREA</option>
                  <option value="KP">KOREA</option>
                  <option value="KW">KUWAIT</option>
                  <option value="KG">KYRGYZSTAN</option>
                  <option value="LA">LAO PEOPLE&#39;S DEMOCRATIC REPUBLIC</option>
                  <option value="LV">LATVIA</option>
                  <option value="LB">LEBANON</option>
                  <option value="LS">LESOTHO</option>
                  <option value="LR">LIBERIA</option>
                  <option value="LY">LIBYAN ARAB JAMAHIRIYA</option>
                  <option value="LI">LIECHTENSTEIN</option>
                  <option value="LT">LITHUANIA</option>
                  <option value="LU">LUXEMBOURG</option>
                  <option value="MO">MACAU</option>
                  <option value="MK">MACEDONIA</option>
                  <option value="MG">MADAGASCAR</option>
                  <option value="MW">MALAWI</option>
                  <option value="MY">MALAYSIA</option>
                  <option value="MV">MALDIVES</option>
                  <option value="ML">MALI</option>
                  <option value="MT">MALTA</option>
                  <option value="MH">MARSHALL ISLANDS</option>
                  <option value="MQ">MARTINIQUE</option>
                  <option value="MR">MAURITANIA</option>
                  <option value="MU">MAURITIUS</option>
                  <option value="YT">MAYOTTE</option>
                  <option value="MX">MEXICO</option>
                  <option value="FM">MICRONESIA</option>
                  <option value="MD">MOLDOVA</option>
                  <option value="MC">MONACO</option>
                  <option value="MN">MONGOLIA</option>
                  <option value="ME">MONTENEGRO</option>
                  <option value="MS">MONTSERRAT</option>
                  <option value="MA">MOROCCO</option>
                  <option value="MZ">MOZAMBIQUE</option>
                  <option value="MM">MYANMAR</option>
                  <option value="NA">NAMIBIA</option>
                  <option value="NR">NAURU</option>
                  <option value="NP">NEPAL</option>
                  <option value="NL">NETHERLANDS</option>
                  <option value="AN">NETHERLANDS ANTILLES</option>
                  <option value="NC">NEW CALEDONIA</option>
                  <option value="NZ">NEW ZEALAND</option>
                  <option value="NI">NICARAGUA</option>
                  <option value="NE">NIGER</option>
                  <option value="NG">NIGERIA</option>
                  <option value="NU">NIUE</option>
                  <option value="NF">NORFOLK ISLAND</option>
                  <option value="MP">NORTHERN MARIANA ISLANDS</option>
                  <option value="NO">NORWAY</option>
                  <option value="OM">OMAN</option>
                  <option value="PK">PAKISTAN</option>
                  <option value="PW">PALAU</option>
                  <option value="PS">PALESTINIAN TERRITORY</option>
                  <option value="PA">PANAMA</option>
                  <option value="PG">PAPUA NEW GUINEA</option>
                  <option value="PY">PARAGUAY</option>
                  <option value="PE">PERU</option>
                  <option value="PH">PHILIPPINES</option>
                  <option value="PN">PITCAIRN</option>
                  <option value="PL">POLAND</option>
                  <option value="PT">PORTUGAL</option>
                  <option value="PR">PUERTO RICO</option>
                  <option value="QA">QATAR</option>
                  <option value="RE">REUNION</option>
                  <option value="RO">ROMANIA</option>
                  <option value="RU">RUSSIAN FEDERATION</option>
                  <option value="RW">RWANDA</option>
                  <option value="SH">SAINT HELENA</option>
                  <option value="KN">SAINT KITTS AND NEVIS</option>
                  <option value="LC">SAINT LUCIA</option>
                  <option value="PM">SAINT PIERRE AND MIQUELON</option>
                  <option value="VC">SAINT VINCENT AND THE GRENADINES</option>
                  <option value="WS">SAMOA</option>
                  <option value="SM">SAN MARINO</option>
                  <option value="ST">SAO TOME AND PRINCIPE</option>
                  <option value="SA">SAUDI ARABIA</option>
                  <option value="SN">SENEGAL</option>
                  <option value="RS">SERBIA</option>
                  <option value="CS">SERBIA AND MONTENEGRO</option>
                  <option value="SC">SEYCHELLES</option>
                  <option value="SL">SIERRA LEONE</option>
                  <option value="SG">SINGAPORE</option>
                  <option value="SK">SLOVAKIA</option>
                  <option value="SI">SLOVENIA</option>
                  <option value="SB">SOLOMON ISLANDS</option>
                  <option value="SO">SOMALIA</option>
                  <option value="ZA">SOUTH AFRICA</option>
                  <option value="GS">SOUTH GEORGIA AND THE SOUTH SANDWICH ISLANDS</option>
                  <option value="ES">SPAIN</option>
                  <option value="LK">SRI LANKA</option>
                  <option value="SD">SUDAN</option>
                  <option value="SR">SURINAME</option>
                  <option value="SJ">SVALBARD AND JAN MAYEN</option>
                  <option value="SZ">SWAZILAND</option>
                  <option value="SE">SWEDEN</option>
                  <option value="CH">SWITZERLAND</option>
                  <option value="SY">SYRIAN ARAB REPUBLIC</option>
                  <option value="TW">TAIWAN</option>
                  <option value="TJ">TAJIKISTAN</option>
                  <option value="TZ">TANZANIA</option>
                  <option value="TH">THAILAND</option>
                  <option value="TL">TIMOR-LESTE</option>
                  <option value="TG">TOGO</option>
                  <option value="TK">TOKELAU</option>
                  <option value="TO">TONGA</option>
                  <option value="TT">TRINIDAD AND TOBAGO</option>
                  <option value="TN">TUNISIA</option>
                  <option value="TR">TURKEY</option>
                  <option value="TM">TURKMENISTAN</option>
                  <option value="TC">TURKS AND CAICOS ISLANDS</option>
                  <option value="TV">TUVALU</option>
                  <option value="UG">UGANDA</option>
                  <option value="UA">UKRAINE</option>
                  <option value="AE">UNITED ARAB EMIRATES</option>
                  <option selected="selected" value="GB">UNITED KINGDOM</option>
                  <option value="US">UNITED STATES</option>
                  <option value="UM">UNITED STATES MINOR OUTLYING ISLANDS</option>
                  <option value="UY">URUGUAY</option>
                  <option value="UZ">UZBEKISTAN</option>
                  <option value="VU">VANUATU</option>
                  <option value="VE">VENEZUELA</option>
                  <option value="VN">VIETNAM</option>
                  <option value="VI">VIRGIN ISLANDS</option>
                  <option value="VG">VIRGIN ISLANDS</option>
                  <option value="WF">WALLIS AND FUTUNA</option>
                  <option value="EH">WESTERNSAHARA</option>
                  <option value="YE">YEMEN</option>
                  <option value="ZM">ZAMBIA</option>
                  <option value="ZW">ZIMBABWE</option>
               </select>
            </div>
            <hr class="mb-4">
            <div class="custom-control custom-checkbox">
               <input type="checkbox" class="custom-control-input" name="save-info" id="save-info" checked>
               {% if user.is_authenticated %}
               <label class="custom-control-label" for="save-info">Save this information for next time</label>
               {% else %}
               <label class="form-check-label" for="id-save-info">
               <a class="text-info" href="{% url 'account_signup' %}">Create an account</a> or 
               <a class="text-info" href="{% url 'account_login' %}">login</a> to save this information
               </label>
               {% endif %}
            </div>
            <hr class="mb-4">
            <!-- Credit card details -->
            <div class="bg-black rounded p-3 px-3 mb-3 text-uppercase">Payment</div>
            <div id="div_id_cust_card_number" class="form-group">
               <input name="cust_card_number" type="text" maxlength="19" id="cust_card_number" tabindex="1" class="form-control" pattern="[0-9]*"
                  title="Card numbers contain digits 0-9 only" onchange="showIssueNo()" placeholder="Card Number" autocomplete="off" />
            </div>
            <div id="div_id_card_holder_name" class="form-group">
               <input name="card_holder_name" type="text" maxlength="64" id="card_holder_name" tabindex="2" class="form-control" placeholder="Card Holder" autocomplete="false" onchange="badTextCheck(this);" />
            </div>
            <div class="row">
               <div id="div_id_card_expiry_month" class="col-md-4">
                  <select name="card_expiry_month" id="card_expiry_month" tabindex="3" class="form-control">
                     <option selected="selected" value="MM">MM</option>
                     <option value="01">01</option>
                     <option value="02">02</option>
                     <option value="03">03</option>
                     <option value="04">04</option>
                     <option value="05">05</option>
                     <option value="06">06</option>
                     <option value="07">07</option>
                     <option value="08">08</option>
                     <option value="09">09</option>
                     <option value="10">10</option>
                     <option value="11">11</option>
                     <option value="12">12</option>
                  </select>
               </div>
               <div id="div_id_card_expiry_year" class="col-md-4">
                  <select name="card_expiry_year" id="card_expiry_year" tabindex="4" class="form-control">
                     <option selected="selected" value="YYYY">YYYY</option>
                     <option value="2020">2020</option>
                     <option value="2021">2021</option>
                     <option value="2022">2022</option>
                     <option value="2023">2023</option>
                     <option value="2024">2024</option>
                     <option value="2025">2025</option>
                     <option value="2026">2026</option>
                     <option value="2027">2027</option>
                     <option value="2028">2028</option>
                     <option value="2029">2029</option>
                     <option value="2030">2030</option>
                  </select>
               </div>
               <div id="div_id_security_code" class="col-md-4">
                  <input name="security_code" type="text" maxlength="4" id="security_code" tabindex="5" class="textbox form-control" placeholder="CVV" autocomplete="off" pattern="[0-9]*" onchange="badlettersCheck(this);limit(this, 4);" /><br />
               </div>
            </div>
            <hr class="mb-4">
            <button class="btn btn-dark rounded-pill py-2 mb-2 btn-block mb-3" type="submit">Pay Now</button>
         </form>
      </div>
   </div>
</div>
{% endblock %}
<!-- {% block postloadjs %}
   {{ block.super }}
   {{ stripe_public_key|json_script:"id_stripe_public_key" }}
   {{ client_secret|json_script:"id_client_secret" }}
   <script src="{% static 'checkout/js/stripe_elements.js' %}"></script>
   {% endblock %} -->